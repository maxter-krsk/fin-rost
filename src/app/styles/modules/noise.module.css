@reference "../../globals.css";

.noise {
  position: absolute;
  inset: 0;
  pointer-events: none;
  mix-blend-mode: overlay;
  opacity: 0.2;

  /* увеличенный размер фона для плавного повторения */
  background-size: 400px 400px;
  background-repeat: repeat;

  /* GPU ускорение */
  will-change: transform, opacity;
  transform: translateZ(0);

  /* SVG шум */
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='400' height='400'>\
  <defs>\
    <filter id='n'>\
      <feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='1' stitchTiles='stitch'/>\
      <feColorMatrix type='saturate' values='0'/>\
      <feComponentTransfer>\
        <feFuncR type='table' tableValues='0 0 0 0 1 1'/>\
        <feFuncG type='table' tableValues='0 0 0 0 1 1'/>\
        <feFuncB type='table' tableValues='0 0 0 0 1 1'/>\
        <feFuncA type='table' tableValues='0 0 0 .9 1 1'/>\
      </feComponentTransfer>\
    </filter>\
  </defs>\
  <rect width='100%' height='100%' filter='url(%23n)' fill='white'/>\
</svg>");
}

@media (max-width: 480px) {
  .noise {
    background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='300' height='300'>\
  <defs>\
    <filter id='n'>\
      <feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='1' stitchTiles='stitch'/>\
      ...\
    </filter>\
  </defs>\
  <rect width='100%' height='100%' filter='url(%23n)' fill='white'/>\
</svg>");
  }
}